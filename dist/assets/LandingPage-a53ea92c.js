import{u as p,j as e}from"./index-12e734f0.js";import{r as i}from"./vendor-f2a9e80b.js";import{_ as r,I as w,S as j,M as v}from"./sun-ab41fa77.js";import{s as N,a as $,e as f,b as S}from"./index-ff4cc8bf.js";import"./firebase-141d664e.js";function _(){const[l,b]=i.useState([]),[h,m]=i.useState(!0),[n,d]=i.useState(""),[u,x]=i.useState(""),[y,o]=i.useState(null),{isDark:t}=p();if(i.useEffect(()=>{let a;return(async()=>{try{m(!0),a=N(g=>{b(g),m(!1)})}catch(g){console.error("Error in updates subscription setup:",g),r.error("Failed to load updates. Please refresh the page."),m(!1)}})(),()=>{a&&a()}},[]),h)return e.jsx("div",{className:`py-12 ${t?"bg-gray-800":"bg-white"}`,children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:`text-lg ${t?"text-gray-300":"text-gray-600"}`,children:"Loading updates..."})})})});const c=async a=>{if(!n.trim()||!u.trim()){r.error("Please enter both email and comment");return}const s={user_email:u.trim(),content:n.trim()};try{await $(a,s),d(""),x(""),o(null),r.success("Comment added successfully!")}catch(g){console.error("Error adding comment:",g),r.error("Failed to add comment")}};return e.jsx("div",{className:`py-12 ${t?"bg-gray-800":"bg-white"}`,children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"space-y-8",children:l.map(a=>e.jsxs("div",{className:`${t?"bg-gray-700":"bg-gray-50"} p-6 rounded-lg shadow-sm`,children:[e.jsx("h3",{className:`text-lg font-medium ${t?"text-white":"text-gray-900"}`,children:a.title}),e.jsx("p",{className:`mt-2 ${t?"text-gray-300":"text-gray-600"}`,children:a.content}),a.image_url&&e.jsx("img",{src:a.image_url,alt:a.title,className:"mt-4 rounded-lg max-h-64 object-cover"}),e.jsxs("p",{className:`mt-4 text-sm ${t?"text-gray-400":"text-gray-500"}`,children:["Posted on ",new Date(a.created_at).toLocaleDateString()]}),e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("h4",{className:`text-sm font-medium ${t?"text-gray-200":"text-gray-700"}`,children:["Comments (",a.comments.length,")"]}),a.comments.map(s=>e.jsxs("div",{className:`${t?"bg-gray-600":"bg-white"} p-4 rounded-md`,children:[e.jsx("p",{className:`text-sm ${t?"text-gray-200":"text-gray-700"}`,children:s.content}),e.jsxs("p",{className:`text-xs mt-1 ${t?"text-gray-400":"text-gray-500"}`,children:["By: ",s.user_email," • ",new Date(s.created_at).toLocaleDateString()]}),s.admin_reply&&e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-blue-500",children:[e.jsx("p",{className:`text-sm ${t?"text-gray-300":"text-gray-600"}`,children:s.admin_reply}),e.jsxs("p",{className:`text-xs mt-1 ${t?"text-gray-400":"text-gray-500"}`,children:["Admin Reply • ",new Date(s.admin_reply_at).toLocaleDateString()]})]})]},s.id)),y===a.id?e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsx("input",{type:"email",value:u,onChange:s=>x(s.target.value),placeholder:"Your email",className:`w-full px-3 py-2 text-sm rounded-md ${t?"bg-gray-600 text-white placeholder-gray-400":"bg-white text-gray-900 placeholder-gray-500"} border border-gray-300 focus:ring-blue-500 focus:border-blue-500`}),e.jsx("textarea",{value:n,onChange:s=>d(s.target.value),placeholder:"Your comment",rows:3,className:`w-full px-3 py-2 text-sm rounded-md ${t?"bg-gray-600 text-white placeholder-gray-400":"bg-white text-gray-900 placeholder-gray-500"} border border-gray-300 focus:ring-blue-500 focus:border-blue-500`}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>{o(null),d(""),x("")},className:`px-3 py-1 text-sm rounded-md ${t?"bg-gray-500 hover:bg-gray-400 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-700"}`,children:"Cancel"}),e.jsx("button",{onClick:()=>c(a.id),className:"px-3 py-1 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-md",children:"Post Comment"})]})]}):e.jsx("button",{onClick:()=>o(a.id),className:`mt-2 text-sm ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:"Add a comment"})]})]},a.id))})})})}f.init("9sf1untPPvbg0U1P9");function D(){const{isDark:l,toggleTheme:b}=p(),[h,m]=i.useState(""),[n,d]=i.useState(!1),u=o=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o),x=async o=>{if(!n)try{d(!0);const t=o.trim();if(!t){r.error("Please enter your email address");return}if(!u(t)){r.error("Please enter a valid email address");return}const c=await S(t);if(c.status==="already_exists"){r.error(c.message);return}const a={to_email:c.data.email,from_name:"TagFlow Team",to_name:c.data.email.split("@")[0],subject:"Welcome to TagFlow!",message:`
          Thank you for joining our waitlist! 
          
          We're excited to have you on board and will keep you updated on our progress.
          You'll be among the first to know when we launch.
          
          Feel free to check our website for regular updates and leave comments on our posts.
        `,website_url:window.location.origin,user_email:c.data.email};try{(await f.send("service_mzam0ga","template_qkfkuzi",a)).status===200?r.success("Successfully joined the waitlist! Check your email for confirmation."):(r.success("Successfully joined the waitlist!"),r.error("Failed to send welcome email, but you're still on the list!"))}catch(s){console.error("Error sending welcome email:",s),r.success("Successfully joined the waitlist!"),r.error("Failed to send welcome email, but you're still on the list!")}m("")}catch(t){console.error("Error joining waitlist:",t),r.error("Failed to join waitlist. Please try again.")}finally{d(!1)}},y=o=>{o.preventDefault(),x(h)};return e.jsxs("div",{className:`min-h-screen ${l?"bg-gray-900":"bg-gray-50"} transition-colors duration-300`,children:[e.jsx(w,{position:"top-right"}),e.jsx("div",{className:"fixed top-4 right-4 z-50 animate-fadeIn",children:e.jsx("button",{onClick:b,className:`p-2 rounded-full transform hover:scale-110 transition-all duration-300 ${l?"bg-gray-800 text-yellow-400 hover:bg-gray-700":"bg-white text-gray-900 hover:bg-gray-100"} shadow-lg`,"aria-label":"Toggle theme",children:l?e.jsx(j,{className:"h-6 w-6 animate-spin-slow"}):e.jsx(v,{className:"h-6 w-6 animate-float"})})}),e.jsx("div",{className:`${l?"bg-gray-800":"bg-white"} transition-colors duration-300`,children:e.jsx("div",{className:"max-w-7xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center animate-slideIn",children:[e.jsx("h1",{className:`text-4xl font-extrabold ${l?"text-white":"text-gray-900"} sm:text-5xl sm:tracking-tight lg:text-6xl transition-colors duration-300`,children:"Welcome to TagFlow"}),e.jsx("p",{className:`mt-4 text-xl ${l?"text-gray-300":"text-gray-500"} transition-colors duration-300`,children:"Join our waitlist to be the first to know when we launch!"}),e.jsx("form",{onSubmit:y,className:"mt-8 flex justify-center animate-fadeIn",children:e.jsxs("div",{className:"inline-flex rounded-md shadow-lg hover:shadow-xl transition-shadow duration-300",children:[e.jsx("input",{type:"email",value:h,onChange:o=>m(o.target.value),placeholder:"Enter your email",className:`px-5 py-3 border border-transparent text-base font-medium rounded-l-md 
                    ${l?"bg-gray-700 text-white placeholder-gray-400 border-gray-600":"bg-white text-gray-900 border-gray-300"} transition-colors duration-300 focus:ring-2 focus:ring-blue-500 focus:outline-none`}),e.jsx("button",{type:"submit",disabled:n,className:`px-5 py-3 border border-transparent text-base font-medium rounded-r-md text-white 
                    ${l?"bg-blue-500 hover:bg-blue-600 disabled:bg-blue-400":"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300"} transition-all duration-300 transform hover:scale-105 disabled:cursor-not-allowed disabled:transform-none`,children:n?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Joining..."]}):"Join Waitlist"})]})})]})})}),e.jsx("div",{className:`border-t ${l?"border-gray-700":"border-gray-200"} animate-fadeIn`,children:e.jsx(_,{})})]})}export{D as default};
//# sourceMappingURL=LandingPage-a53ea92c.js.map
